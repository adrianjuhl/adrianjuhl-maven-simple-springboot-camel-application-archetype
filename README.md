# Simple Springboot Camel Application Archetype

A [Maven Archetype](https://maven.apache.org/archetype/index.html) that can generate a simple springboot camel application.

# Development

## Initialization of development environment

**Importantant**

The project includes a number of git hook scripts that help to ensure that certain aspects of the code base are maintained appropriately. These scripts hook in and run at certain places in git workflow (e.g. pre-commit checks will prevent a git commit from completing if the validation fails). However, these git hook scripts must be sym-linked so that git will execute them. 

Execute the following command after cloning to apply the included git hooks:

```
bin/git/init-hooks
```

See below for more info on the git hooks included in this project.

### git hooks

This project includes a number of git hooks to ensure certain aspects of the code base are maintained appropriately. See the scripts in `bin/git/hooks/` as well as the scripts `bin/git/init-hooks` and `bin/git/hooks-wrapper` for more information.

## Verification of the capability of the archetype

To a large degree, this archetype is required to be able to template out a project that can match the `simple-springboot-camel-application-prototype` project (in both directory structure and file content), as the prototype project is the project that defines the desired initial configuration of a springboot camel application project, and as such, the prototype project sets the requirements of the archetype project.

To verify that the `simple-springboot-camel-application-archetype` project can generate a project with structure and content as required, execute the following:

```
mvn clean install && bash target/test-classes/archetype-verification/verify-archetype-capability
```

The `verify-archetype-capability` script compares the result of generating a new project using the archetype, with the prototype. At a high level, it does this in the following steps:
1. the archetype is used to generate a sample project that mirrors the prototype project (which the script does by running `mvn archetype:generate` and supplying parameter values (such as groupId, artifactId, version, name, descripion) that match the actual prototype project)
1. the prototype project is cloned into a temporary directory (for the purpose of performing a comparison)
1. a diff is performed between the generated project and the cloned project, and a report is prepared that identifies differences between the two, in both the directory/file structure and also file content (differences would indicate that the archetype needs more work)

The `verify-archetype-capability` script ends with a report of differences in structure and content between the sample project generated by this archetype, and the actual simple-spingboot-prototype of the same version. The aim is for no differences to be reported. Any differences that are reported indicates that the archetype needs further development effort.

# See also

* [About Maven Archetype](https://maven.apache.org/archetype/index.html)
* [Guide to Creating Archetypes](https://maven.apache.org/guides/mini/guide-creating-archetypes.html)
* [Introduction to Archetypes](https://maven.apache.org/guides/introduction/introduction-to-archetypes.html)
* [Guide to Maven Archetype by Baeldung](https://www.baeldung.com/maven-archetype)

# Source Code

[https://github.com/adrianjuhl/adrianjuhl-maven-simple-springboot-camel-application-archetype](https://github.com/adrianjuhl/adrianjuhl-maven-simple-springboot-camel-application-archetype)

# Usage

This archetype can be used to generate a new springboot camel application in the following ways.

For detailed steps, see the [usage guide](usage-guide.md).

1. Generate a project, being prompted for required parameters:
    ```
    mvn archetype:generate -DarchetypeGroupId=io.github.adrianjuhl.archetype -DarchetypeArtifactId=simple-springboot-camel-application-archetype -DarchetypeVersion=0.0.1-SNAPSHOT
    ```

1. Generate a project, supplying required and optional parameters:
    ```
    mvn archetype:generate \
      -DinteractiveMode=false \
      -DarchetypeGroupId=io.github.adrianjuhl.archetype \
      -DarchetypeArtifactId=simple-springboot-camel-application-archetype \
      -DarchetypeVersion=0.0.1-SNAPSHOT \
      -DgroupId=com.example \
      -DartifactId=my-springboot-camel-application \
      -Dversion=1.0.0-SNAPSHOT \
      -Dname="My Springboot Camel Application" \
      -Ddescription="A springboot Camel application ..."
    ```

1. Generate the project using the generate-project script.

    See https://github.com/adrianjuhl/simple-springboot-camel-application-archetype/0.0.1-SNAPSHOT/generate-project-script-usage.html
